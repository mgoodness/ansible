---
# file: laptop.yml

- hosts: 127.0.0.1
  roles:
    - { role: git, full_name: "Michael Goodness", email_address: "mgoodness@gmail.com" }
    - fstrim
    - xorg
    - google_gpg_key
    - google_chrome
    - google_talk_plugin
    - sublime_text

  vars:
    vagrant_rpm: vagrant_1.7.0_x86_64.rpm
  tasks:    
    - name: install packages
      sudo: true
      yum: pkg={{ item }} state=present
      with_items:
        - gnome-tweak-tool
        - google-droid-sans-fonts
        - google-droid-sans-mono-fonts
        - google-droid-serif-fonts
        - tlp
        - vim
        - zsh

    - name: start TLP
      sudo: true
      service: name=tlp enabled=true state=started

    - name: download Vagrant
      get_url: >
        url=https://dl.bintray.com/mitchellh/vagrant/{{ vagrant_rpm }}
        dest=/tmp/{{ vagrant_rpm }}

    - name: install Vagrant
      sudo: true
      yum: >
        pkg=/tmp/{{ vagrant_rpm }}
        state=present
